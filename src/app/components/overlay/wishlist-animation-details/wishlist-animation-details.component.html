<div fxLayout="row" style="height: 100%">
  <div
    fxFlex="100"
    class="left"
    [@wishlistDetailsLeft]="shown === true ? 'shown' : 'hidden'"
  ></div>
  <div
    fxFlex="630px"
    [@wishlistDetailsRight]="shown === true ? 'shown' : 'hidden'"
    (@wishlistDetailsRight.done)="handleEvent($event)"
  >
    <div class="wishlist-product mat-elevation-z10">
      <!-- <div class="mat-title">Wishlist products</div> -->

      <div fxLayout="row" fxLayoutAlign="space-between center">
        <button mat-button (click)="closeWishlistOverlay()" color="primary">
          <mat-icon>keyboard_backspace</mat-icon>
        </button>
        <div class="mat-title" style="margin-bottom: 0">Wishlist products</div>
      </div>

      <div class="wishlist-product__wrapper">
        <ng-container
          *ngIf="
            domainStatusWishlistProducts.domain &&
            domainStatusWishlistProducts.requestStatus.status ===
              requestStatuses.COMPLETED
          "
        >
          <ng-container
            *ngIf="domainStatusWishlistProducts.domain.length > 0; else empty"
          >
            <div
              *ngFor="
                let item of domainStatusWishlistProducts.domain as products
              "
              class="wishlist-product__list"
            >
              <div
                class="mat-body-2 wishlist-product__list__row"
                fxLayout="row"
                fxLayoutAlign="start center"
                appHover
              >
                <div
                  [ngStyle]="{ 'background-image': 'url(' + item.image + ')' }"
                  class="background-image wishlist-product__list__row__avatar"
                  fxFlex="140px"
                ></div>
                <div
                  class="wishlist-product__list__row__product-description"
                  fxFlex="100"
                >
                  <div class="mat-subheading-1">{{ item.title }}</div>
                  <div class="mat-body-1">{{ item.description }}</div>
                  <div
                    class="wishlist-product__list__row__product-description__actions"
                    fxLayout="row"
                    fxLayoutGap="20px"
                  >
                    <button
                      color="accent"
                      mat-stroked-button
                      matTooltip="Add to cart"
                    >
                      <mat-icon>add_shopping_cart</mat-icon>
                      <span>ADD TO CART</span>
                    </button>

                    <button
                      (click)="moveToFavorite(item)"
                      color="primary"
                      mat-stroked-button
                      matTooltip="Move product to favorite"
                    >
                      <mat-icon>favorite</mat-icon>
                      <span>MOVE TO FAVORITE</span>
                    </button>

                    <button
                      (click)="removeProduct(item)"
                      color="primary"
                      mat-icon-button
                      matTooltip="Remove from wishlist"
                    >
                      <mat-icon>delete_outline</mat-icon>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </ng-container>
        </ng-container>
        <ng-container
          *ngIf="
            domainStatusWishlistProducts.requestStatus.status ===
            requestStatuses.FAILED
          "
        >
          <mat-error>{{
            domainStatusWishlistProducts.requestStatus.errorMessage
          }}</mat-error>
          <button
            mat-raised-button
            color="accent"
            style="margin-top: 20px; width: 200px"
            (click)="loadAllProducts()"
          >
            Retry request
          </button>
        </ng-container>
      </div>
    </div>
  </div>
</div>

<ng-template #empty>
  <div
    fxLayout="row"
    fxLayoutAlign="center center"
    style="width: 100%; height: 200px; text-align: center"
  >
    <div>
      <div class="mat-title">Missing wishlist products</div>
      <div class="mat-body-2">Please add products to wishlist...</div>
      <button
        mat-stroked-button
        color="accent"
        style="margin-top: 15px; width: 120px"
        (click)="closeOverlay()"
      >
        DISMISS
      </button>
    </div>
  </div>
</ng-template>
